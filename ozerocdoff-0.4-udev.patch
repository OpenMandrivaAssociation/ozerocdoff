--- ozerocdoff-0.4/hso.udev.bero	2012-04-05 00:13:54.651649776 +0200
+++ ozerocdoff-0.4/hso.udev	2012-04-05 00:15:28.198650052 +0200
@@ -70,50 +70,50 @@ LABEL="hso_old_syntax"
 #RUN+="/binb/touch /tmp/udev-syntax-old"
 
 # enable Selective suspend in USB core system by a helper script
-SUBSYSTEM=="usb", SYSFS{idVendor}=="0af0", SYSFS{bDeviceClass}=="ff", RUN+="/usr/sbin/osetsuspend udev %k"
+SUBSYSTEM=="usb", ATTR{idVendor}=="0af0", ATTR{bDeviceClass}=="ff", RUN+="/usr/sbin/osetsuspend udev %k"
 
 # send rezero command via ozerocdoff, which uses usblib for all known ZCOPTION devices, supported by bundled driver
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6711", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6731", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6751", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6771", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6791", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6811", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6911", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6951", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="6971", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7011", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7031", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7051", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7071", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7111", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7211", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7251", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7271", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7311", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="c031", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="d031", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="d033", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7301", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7361", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7401", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7501", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
-SUBSYSTEM=="usb_device", SYSFS{idVendor}=="0af0", SYSFS{idProduct}=="7601", SYSFS{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6711", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6731", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6751", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6771", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6791", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6811", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6911", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6951", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="6971", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7011", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7031", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7051", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7071", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7111", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7211", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7251", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7271", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7311", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="c031", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="d031", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="d033", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7301", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7361", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7401", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7501", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
+SUBSYSTEM=="usb_device", ATTR{idVendor}=="0af0", ATTR{idProduct}=="7601", ATTR{bDeviceClass}=="00", RUN+="/usr/sbin/ozerocdoff -wi 0x%s{idProduct}"
 # Note SYSTEMS and ATTRS is not supported by udev from Xandros/EeePC
 
 # add device node links to all possible device
-SUBSYSTEM=="tty", SYSFS{hsotype}=="Control",	 SYMLINK+="wctrl0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="Application", SYMLINK+="wapp0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="Application", SYMLINK+="wappa0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="Application2",SYMLINK+="wappb0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="Diagnostic",	 SYMLINK+="wdiag0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="Diagnostic",	 SYMLINK+="wdiaga0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="Diagnostic2", SYMLINK+="wdiagb0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="Modem",	 SYMLINK+="wmodem0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="GPS",	 SYMLINK+="wgps0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="GPS_Control", SYMLINK+="wgpsc0"
-SUBSYSTEM=="tty", SYSFS{hsotype}=="PCSC",	 SYMLINK+="wpcsc0"
-# Note use here SYSFS instead of ATTR to be compatible to Xandros/EeePC
+SUBSYSTEM=="tty", ATTR{hsotype}=="Control",	 SYMLINK+="wctrl0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="Application", SYMLINK+="wapp0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="Application", SYMLINK+="wappa0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="Application2",SYMLINK+="wappb0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="Diagnostic",	 SYMLINK+="wdiag0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="Diagnostic",	 SYMLINK+="wdiaga0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="Diagnostic2", SYMLINK+="wdiagb0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="Modem",	 SYMLINK+="wmodem0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="GPS",	 SYMLINK+="wgps0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="GPS_Control", SYMLINK+="wgpsc0"
+SUBSYSTEM=="tty", ATTR{hsotype}=="PCSC",	 SYMLINK+="wpcsc0"
+# Note use here ATTR instead of ATTR to be compatible to Xandros/EeePC
 # Note use no extra check for  SUBSYSTEMS=="usb", ATTRS{DRIVERS}="hso", because it is not supported by Xandros/EeePC
 
 
@@ -138,10 +138,10 @@ SUBSYSTEM!="usb", GOTO="hso_end"
 #
 # Don't forget to corret the path to your needed alternative driver!
 #
-#SYSFS{idVendor}=="0af0", SYSFS[idProduct}=="6911", RUN+="/sbin/modprobe hso"
-#SYSFS{idVendor}=="0af0", SYSFS[idProduct}=="c031", PROGRAM="/bin/sh -c 'uname -r'", RUN+="/sbin/insmod /lib/modules/%c/kernel/drivers/net/wwan/hso.ko debug=0xff"
-#SYSFS{idVendor}=="0af0", SYSFS[idProduct}=="d013", PROGRAM="/bin/sh -c 'uname -r'", RUN+="/sbin/insmod /lib/modules/%c/kernel/drivers/net/wwan/hso.ko debug=0xff"
-#SYSFS{idVendor}=="0af0", SYSFS[idProduct}=="d033", PROGRAM="/bin/sh -c 'uname -r'", RUN+="/sbin/insmod /lib/modules/%c/kernel/drivers/net/wwan/hso.ko debug=0xff"
-#SYSFS{idVendor}=="05c6", SYSFS[idProduct}=="1000", PROGRAM="/bin/sh -c 'uname -r'", RUN+="/sbin/insmod /lib/modules/%c/kernel/drivers/net/wwan/hso.ko debug=0xff"
+#ATTR{idVendor}=="0af0", ATTR{idProduct}=="6911", RUN+="/sbin/modprobe hso"
+#ATTR{idVendor}=="0af0", ATTR{idProduct}=="c031", PROGRAM="/bin/sh -c 'uname -r'", RUN+="/sbin/insmod /lib/modules/%c/kernel/drivers/net/wwan/hso.ko debug=0xff"
+#ATTR{idVendor}=="0af0", ATTR{idProduct}=="d013", PROGRAM="/bin/sh -c 'uname -r'", RUN+="/sbin/insmod /lib/modules/%c/kernel/drivers/net/wwan/hso.ko debug=0xff"
+#ATTR{idVendor}=="0af0", ATTR{idProduct}=="d033", PROGRAM="/bin/sh -c 'uname -r'", RUN+="/sbin/insmod /lib/modules/%c/kernel/drivers/net/wwan/hso.ko debug=0xff"
+#ATTR{idVendor}=="05c6", ATTR{idProduct}=="1000", PROGRAM="/bin/sh -c 'uname -r'", RUN+="/sbin/insmod /lib/modules/%c/kernel/drivers/net/wwan/hso.ko debug=0xff"
 
 LABEL="hso_end"
